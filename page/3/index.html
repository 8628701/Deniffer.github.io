<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.1.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"deniffer.github.io","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"right","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="some Note from Deniffer">
<meta property="og:type" content="website">
<meta property="og:title" content="Deniffer&#39;s Blog">
<meta property="og:url" content="deniffer.github.io/page/3/index.html">
<meta property="og:site_name" content="Deniffer&#39;s Blog">
<meta property="og:description" content="some Note from Deniffer">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Deniffer">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="deniffer.github.io/page/3/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>Deniffer's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript><!-- hexo-inject:begin --><!-- hexo-inject:end -->

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Deniffer's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Work hard , keep simple</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

  <a href="https://github.com/deniffer" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="deniffer.github.io/posts/f46067fa/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Deniffer">
      <meta itemprop="description" content="some Note from Deniffer">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Deniffer's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/posts/f46067fa/" class="post-title-link" itemprop="url">数学二知识图</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-08-13 20:42:31" itemprop="dateCreated datePublished" datetime="2020-08-13T20:42:31+08:00">2020-08-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-09-09 11:07:21" itemprop="dateModified" datetime="2020-09-09T11:07:21+08:00">2020-09-09</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Math/" itemprop="url" rel="index"><span itemprop="name">Math</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>136</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="高等数学"><a class="markdownIt-Anchor" href="#高等数学"></a> 高等数学</h3>
<ul>
<li>
<p>一元函数微积分 (重难点)</p>
<ul>
<li>微分学
<ul>
<li>函数 极限 连续</li>
<li>导数与微分</li>
<li>微分中值定理与导数的应用</li>
</ul>
</li>
<li>积分学
<ul>
<li>不定积分</li>
<li>定积分与反常积分</li>
<li>定积分的应用</li>
</ul>
</li>
</ul>
</li>
<li>
<p>多元函数微积分</p>
<ul>
<li>微分学
<ul>
<li>函数 极限 连续</li>
<li>偏导数与全微分</li>
<li>微分学的应用(极值与最值)</li>
</ul>
</li>
<li>积分学
<ul>
<li>重积分（二重积分）</li>
</ul>
</li>
</ul>
</li>
<li>
<p>微分方程</p>
<ul>
<li>一阶微分方程</li>
<li>可降阶微分方程</li>
<li>高阶线性微分方程</li>
</ul>
</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="deniffer.github.io/posts/ea4a1d17/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Deniffer">
      <meta itemprop="description" content="some Note from Deniffer">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Deniffer's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/posts/ea4a1d17/" class="post-title-link" itemprop="url">File System</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-08-10 20:35:54" itemprop="dateCreated datePublished" datetime="2020-08-10T20:35:54+08:00">2020-08-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-08-13 16:37:28" itemprop="dateModified" datetime="2020-08-13T16:37:28+08:00">2020-08-13</time>
              </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>0</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id=""><a class="markdownIt-Anchor" href="#"></a> </h3>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="deniffer.github.io/posts/cc83e927/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Deniffer">
      <meta itemprop="description" content="some Note from Deniffer">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Deniffer's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/posts/cc83e927/" class="post-title-link" itemprop="url">进程与多进程图像</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-08-10 20:35:54" itemprop="dateCreated datePublished" datetime="2020-08-10T20:35:54+08:00">2020-08-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-08-11 10:24:47" itemprop="dateModified" datetime="2020-08-11T10:24:47+08:00">2020-08-11</time>
              </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>1.4k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="cpu是如何工作的"><a class="markdownIt-Anchor" href="#cpu是如何工作的"></a> CPU是如何工作的</h3>
<ul>
<li>设置PC初值 (initial PC)</li>
<li>自动取指，执行<br />
<br><br />
由于指令的差异，导致CPU执行时间上有差异</li>
</ul>
<blockquote>
<p>IO语句和计算语句之间的差异很大 普遍来说执行一条io语句可以执行100W条计算指令，原因是计算在CPU内就可以完成(fast)，而io指令需要调动其他硬件资源(磁盘读取等)(low),且在调动其他硬件的时候，CPU空转，浪费了宝贵的CPU资源。</p>
</blockquote>
<h3 id="提出多道程序设计思想"><a class="markdownIt-Anchor" href="#提出多道程序设计思想"></a> 提出多道程序设计思想</h3>
<p>多道程序设计可以有效改善io任务带来的CPU浪费，它是多道程序，交替执行的设计模式。 多道程序设计思想离不开一个关键词：并发</p>
<blockquote>
<p>并发： 一个CPU交替地执行多个程序 如何实现并发呢？ 关键在于pc的切换! 但是仅仅修改PC的值仍然是不够的，寄存器的状态会发生改变，因此还需要记录切换前程序执行的状态！</p>
</blockquote>
<p>操作系统负责把这些进程记录下来，按照合理的次序进行推进（分配资源，进行调度）</p>
<h3 id="引入进程的概念"><a class="markdownIt-Anchor" href="#引入进程的概念"></a> 引入进程的概念</h3>
<ul>
<li>运行的程序与静态程序是不一样的</li>
<li>需要描述这些不一样的信息 -&gt; 进程</li>
<li>PCB(Process Control Block) 用来记录进程信息的数据结构</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;   <span class="comment">//从父进程创建进程</span></span><br><span class="line">	<span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,cmd);</span><br><span class="line">		<span class="keyword">if</span>(!fork())</span><br><span class="line">		&#123;</span><br><span class="line">			exec(cmd);</span><br><span class="line">		&#125;</span><br><span class="line">		wait();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="多进程如何组织"><a class="markdownIt-Anchor" href="#多进程如何组织"></a> 多进程如何组织</h3>
<p>利用PCB结构构成多级队列<br></p>
<ul>
<li>就绪队列</li>
<li>等待队列</li>
<li>阻塞队列</li>
</ul>
<p><em>进程的切换</em></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//启用磁盘读写</span></span><br><span class="line">pCur.state =<span class="string">&#x27;W&#x27;</span>;</span><br><span class="line"><span class="comment">//将pCur放入DiskWaitQueue</span></span><br><span class="line">schedule();</span><br><span class="line">schedule()&#123;</span><br><span class="line">	pNew = getNext(ReadyQueue);</span><br><span class="line">	switch_to(pCur,pNew);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">switch_to()&#123;</span><br><span class="line">	pCur.ax = CPU.ax;</span><br><span class="line">	pCur.bx = CPU.bx;</span><br><span class="line">	<span class="comment">//...</span></span><br><span class="line">	pCur.cs = CPU.cs;</span><br><span class="line">	pCur.retpc = CPU.pc;</span><br><span class="line">	<span class="comment">//...</span></span><br><span class="line">	<span class="comment">//切换至新进程的状态，根据PCB的值</span></span><br><span class="line">	CPU.ax = pNew.ax;</span><br><span class="line">	CPU.bx = pNew.bx;</span><br><span class="line">	<span class="comment">//...</span></span><br><span class="line">	CPU.cs = pNew.cs;</span><br><span class="line">	CPU.retpc = pNew.pc;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="多进程之间如何影响"><a class="markdownIt-Anchor" href="#多进程之间如何影响"></a> 多进程之间如何影响</h3>
<p>内存方面： 限制对内存的读写，通过映射表来分离地址，每一个进程都有一个对应的映射表。<br />
(虚拟地址-&gt;物理地址)</p>
<h3 id="引出线程的概念"><a class="markdownIt-Anchor" href="#引出线程的概念"></a> 引出线程的概念</h3>
<p><em>进程 = 资源+指令执行序列</em></p>
<blockquote>
<p>映射表存在内存中 访问速度慢</p>
</blockquote>
<ul>
<li>将指令和资源分离开</li>
<li>一个资源加多个指令序列</li>
</ul>
<p><em>线程： 保留了并发的特点，避免了进程切换的代价，实质就是映射表不变，PC变。</em></p>
<h3 id="用户级线程"><a class="markdownIt-Anchor" href="#用户级线程"></a> 用户级线程</h3>
<p>用户级线程的调度是Yield（）函数<br />
多个线程不能共用一个栈来管理，会导致混乱，相应的每个线程需要一个栈来管理。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//线程的创建</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">ThreadCreate</span><span class="params">(A)</span></span>&#123;</span><br><span class="line">	TCB *tcb = <span class="built_in">malloc</span>();</span><br><span class="line">	*<span class="built_in">stack</span> = <span class="built_in">malloc</span>() ;</span><br><span class="line">	*<span class="built_in">stack</span> = A ;<span class="comment">//线程的栈</span></span><br><span class="line">	tcb.esp = <span class="built_in">stack</span> ; <span class="comment">//将栈与线程关联起来</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>用户级线程的缺点： 如果进程中的某一个线程进入内核并阻塞，CPU发生进程切换，用户级线程不产生作用</p>
</blockquote>
<h3 id="核心级线程"><a class="markdownIt-Anchor" href="#核心级线程"></a> 核心级线程</h3>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="deniffer.github.io/posts/5e5a190e/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Deniffer">
      <meta itemprop="description" content="some Note from Deniffer">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Deniffer's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/posts/5e5a190e/" class="post-title-link" itemprop="url">操作系统之总体认识</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-08-08 20:35:54" itemprop="dateCreated datePublished" datetime="2020-08-08T20:35:54+08:00">2020-08-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-08-22 15:08:31" itemprop="dateModified" datetime="2020-08-22T15:08:31+08:00">2020-08-22</time>
              </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>1.5k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <hr />
<h2 id="谈一下自己对操作系统的总体认识"><a class="markdownIt-Anchor" href="#谈一下自己对操作系统的总体认识"></a> 谈一下自己对操作系统的总体认识</h2>
<h3 id="首先明白操作系统是干什么"><a class="markdownIt-Anchor" href="#首先明白操作系统是干什么"></a> 首先明白操作系统是干什么！</h3>
<p>操作系统（Operating System）是开发出来帮我们管理各种硬件资源和向上提供接口的一个管家，你可以理解有了操作系统的之后，很多本来需要你做的事情，统统交给它来做。</p>
<blockquote>
<p>举个简单的例子，如果你想保存一个文件写入磁盘，如果没有操作系统你需要怎么做呢？ 首先我想说没有操作系统，你基本完成不了这个事情，因为文件这个概念本来就是在实现操作系统提出的，所以说没有操作系统你就完成不了这样的事情。那我们换一个角度来思考，在我们保存一个文件的时候我们做了什么，操作系统又做了什么！</p>
</blockquote>
<p>以下假设基于Window系统</p>
<ul>
<li>
<p>假设首先你先要新建一个txt文件并命名为hello.txt，然后你在里面输入字符&quot;Hello World!&quot; 并按下快捷键Ctrl+s保存下来<br><br />
<em>以上就是你所做的所有操作了，你新建并保存了一个hello.txt文件</em></p>
</li>
<li>
<p>接下来就是操作系统帮你做的事情，首先是新建文件的时候</p>
<ul>
<li>一般而言你是通过点击鼠标来进行新建文件的，那么操作系统就得时刻监控着鼠标的一举一动（从代码层级考虑就是一个监听事件，再简单点就是一个死循环）<br />
一旦你移动或点击鼠标，操作系统就会实时的将这个事件传送给cpu处理（通过总线），由于cpu处理的速度相当的快，（假设你的电脑是3.4GHZ，不考虑各种多核处理器，流水线设计等情况，那你电脑1s内可以执行上一亿次指令）所以显示在你眼前的就是鼠标几乎实时的响应者你的操作。 <br> 这个过程中 cpu的管理是由操作系统来完成的。</li>
</ul>
</li>
<li>
<p>其次当你新建文件成功后，操作系统又帮你干了些什么呢？</p>
<ul>
<li>假设你是在任意一个文件夹下新建的一个txt文本，之前提及到文件这个概念本身就是由操作系统提出的，所以我们首先来看看文件到底是如何产生的<br />
，由于文件系统的概念涉及到多重抽象的过程，所以这里就简单的提个概念</li>
<li>文件系统的类型有多种多样，每次版本更迭也会有不同的变化，所以这里只介绍涉及的基本概念。文件的存放被设计成两部分，一部分是文件本身的属性，另一部分是文件的内容。</li>
<li>然后操作系统会帮你将这个hello.txt文件分配一个空闲的block（对应到物理就是小小的磁盘块），将文件信息放入data block内，hello.txt的文件名被存放在父目录信息下，并且构成文件名-inode编号的形式，找到了文件名就可以找到对应inode编号。</li>
<li>inode编号保存着文件的属性，拥有的block数量和对应的，拥有者，修改时间信息等 类似于一个文件描述</li>
<li>这样你的文件就真正的创建并保存在磁盘当中。其中忽略了修改文件内容的部分，键盘响应部分的详细过程。</li>
</ul>
</li>
</ul>
<h3 id="操作系统这个管家如何帮我们管理硬件"><a class="markdownIt-Anchor" href="#操作系统这个管家如何帮我们管理硬件"></a> 操作系统这个管家如何帮我们管理硬件</h3>
<p>我们熟知的一台电脑的硬件组成有：cpu、显示器、内存、磁盘、键鼠设备</p>
<ol>
<li>操作系统刚开始帮我们管理cpu，于是有了批处理(Batch Process)系统的概念</li>
</ol>
<blockquote>
<p>批处理指的是一次提交多个作业，cpu按照固定的顺序完成作业</p>
</blockquote>
<ol start="2">
<li>由于不同类型的作业对cpu的利用需求不一，在执行io作业时，多数时间cpu都在空转，造成cpu资源的浪费。因此提出了多道程序系统的概念(Multi-Programming)<br />
，从而提高cpu的利用效率。</li>
</ol>
<blockquote>
<p>多道程序系统： 当cpu陷入io作业等待时，可以切出cpu执行其他指令，在多道程序系统中，作业的切换和调度成为核心</p>
</blockquote>
<ol start="3">
<li>分时系统（time sharing） 时分复用 MIT的MULITICS<br />
<br><br />
<em>要想明白操作系统的管理细节就要明白两个重要视图：多进程视图，文件系统视图</em><br />
<br><br />
多进程视图 涉及到cpu和内存的管理，弄懂了多进程的概念就明白操作系统如何管理cpu和内存</li>
</ol>
<ul>
<li>
<p>cpu管理</p>
</li>
<li>
<p>内存管理<br />
<br><br />
文件视图涉及到了磁盘管理和终端设备的管理，通过文件视图我们可以了解操作系统如何管理磁盘和终端设备</p>
</li>
<li>
<p>disk manage</p>
</li>
<li>
<p>io manage</p>
</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="deniffer.github.io/posts/45383ce4/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Deniffer">
      <meta itemprop="description" content="some Note from Deniffer">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Deniffer's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/posts/45383ce4/" class="post-title-link" itemprop="url">操作系统之系统调用</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-08-02 20:35:54" itemprop="dateCreated datePublished" datetime="2020-08-02T20:35:54+08:00">2020-08-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-08-22 15:08:21" itemprop="dateModified" datetime="2020-08-22T15:08:21+08:00">2020-08-22</time>
              </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>481</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="interface"><a class="markdownIt-Anchor" href="#interface"></a> Interface</h3>
<p>操作系统的接口表现为函数调用，由系统提供，故被称为系统调用（system_call）</p>
<p>POSIX(Portable Operating System Interface of Unix) 由电气电子工程师学会（IEEE）制定的标准，用于规范操作系统的接口标准，使得各操作系统之间的API可以相互兼容<br></p>
<p><em>系统调用-&gt;调用OS提供的一些function</em></p>
<blockquote>
<p>POSIX提供规范手册，可以在网上查询。</p>
</blockquote>
<h3 id="the-implementation-of-os-interface"><a class="markdownIt-Anchor" href="#the-implementation-of-os-interface"></a> The implementation of OS Interface</h3>
<blockquote>
<p>函数调用与系统调用的最重要的区别在于，系统调用需要中断int指令进入内核后，才可使用</p>
</blockquote>
<p>区分用户态和内核态： 依靠的是一种处理器的“硬件设计” ,cs寄存器的低两位</p>
<ul>
<li>CPL: Current Priority Level 当前特权级</li>
<li>DPL: Describe/Destination Priority Level 描述目标段<br />
当cs的低两位：0 表示的是内核态，3 标识的是用户态（DPL&gt;=CPL）</li>
</ul>
<h3 id="系统调用的核心-int-0x80"><a class="markdownIt-Anchor" href="#系统调用的核心-int-0x80"></a> 系统调用的核心 int 0x80</h3>
<ul>
<li>用户程序中包含int指令的代码（进行中断处理）</li>
<li>操作系统写中断处理，获取程序编号</li>
<li>操作系统根据编号执行相应代码</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="deniffer.github.io/posts/443b9146/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Deniffer">
      <meta itemprop="description" content="some Note from Deniffer">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Deniffer's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/posts/443b9146/" class="post-title-link" itemprop="url">the model of instruction</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-07-20 09:12:20" itemprop="dateCreated datePublished" datetime="2020-07-20T09:12:20+08:00">2020-07-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-08-11 10:24:47" itemprop="dateModified" datetime="2020-08-11T10:24:47+08:00">2020-08-11</time>
              </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>0</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="deniffer.github.io/posts/a0f7cd5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Deniffer">
      <meta itemprop="description" content="some Note from Deniffer">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Deniffer's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/posts/a0f7cd5/" class="post-title-link" itemprop="url">the model of Cache</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-07-10 09:12:20" itemprop="dateCreated datePublished" datetime="2020-07-10T09:12:20+08:00">2020-07-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-08-11 10:24:47" itemprop="dateModified" datetime="2020-08-11T10:24:47+08:00">2020-08-11</time>
              </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>840</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <hr />
<p>Cache 位于存储器层次结构的顶层，通常由SRAM构成 Cache的本质是利用了程序的局部性。</p>
<h3 id="cache缓存交换"><a class="markdownIt-Anchor" href="#cache缓存交换"></a> Cache缓存交换</h3>
<p>为了便于Cache和主存之间交换信息，Cache和主存都被划分为相等的块，Cache块又被称为Cache行，每块由若干字节组成。当CPU发出都请求时，若访存地址在Cache中命中，就将此地址转换成Cache地址，直接对Cache进行读操作；若cache不命中，则访问主存，并把此字所在的块从主存调入Cache中。若cache已经满了，则需根据某种替换算法，替换掉别的块。</p>
<blockquote>
<p>tips : CPU与cache之间的数据交换以字为单位，而cache与主存之间的数据交换则以Cache块为单位。</p>
</blockquote>
<ul>
<li>命中率：CPU欲访问的信息已在Cache中的比率称为Cache的命中率。设一个程序执行期间，cache的总命中次数为N_c ,访问主存的总次数为N_m,则命中率H为</li>
</ul>
<p align="center">H = N_c/(N_c+N_m)</p>
<ul>
<li>平均访存时间： 设t_c为命中时的Cache访问时间，t_m为未命中时的访问时间，1-H表示未命中率，则Cache-主存系统的平均访问时间T_a为，</li>
</ul>
<p>T_a =  H\*t_c + (1-H)\*t_m</p>
<h3 id="cache和主存的映射方式"><a class="markdownIt-Anchor" href="#cache和主存的映射方式"></a> Cache和主存的映射方式</h3>
<p>Cache行中的信息是主存中某个块的副本，地址映射是指主存地址空间映射到Cache地址空间，即把存放在主存的信息按照某种规则装入Cache中。</p>
<ol>
<li>直接映射 ：主存中的每一块只能装入Cache中的唯一位置。且直接映射无需使用替换算法，但此方法的块冲突概率最高，空间利用率最低，直接映射的关系可定义为：</li>
</ol>
<p>j = i mod 2^c </p>
<blockquote>
<p>其中 j为Cache的块号，i为主存的块号，2^c是Cache中的总块数。\n<br />
其结构为 第2^n块 只能放在Cache的第零行; 第(2^n)+1块只能放在Cache的第1行;依次类推</p>
</blockquote>
<p>由映射函数可以看出，主存块号i的低c位正好是他要装入的Cache行号，给每个Cache行设置一个长为 t = m - c 的tag，当主存某块调入cache后，就将其块号的高t位设置在对应Cache行的标记中，</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="deniffer.github.io/posts/255d2894/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Deniffer">
      <meta itemprop="description" content="some Note from Deniffer">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Deniffer's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/posts/255d2894/" class="post-title-link" itemprop="url">the model of memory</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-07-08 15:12:20" itemprop="dateCreated datePublished" datetime="2020-07-08T15:12:20+08:00">2020-07-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-08-11 10:24:47" itemprop="dateModified" datetime="2020-08-11T10:24:47+08:00">2020-08-11</time>
              </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>2.3k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>2 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="半导体存储器"><a class="markdownIt-Anchor" href="#半导体存储器"></a> 半导体存储器</h3>
<ul>
<li>
<p>半导体存储器的组成：存储矩阵，译码驱动，读写电路，读写控制线，片选线，地址线和控制线</p>
</li>
<li>
<p>RAM 随机存取存储器（触发式原理），主要被用于制作主存，cache</p>
<ul>
<li>
<p>SRAM(static Random Access Memory) 静态随机存取存储器： SRAM不需要刷新电路也可以保存内部存储的数据，而DRAM需要每隔一段时间就刷新充电一次，否则内部的数据就会消失，因此SRAM具有较高的性能。</p>
<ul>
<li>SRAM的构成：存储单元阵列，地址译码器，灵敏放大器，控制电路，缓冲/驱动电路</li>
<li>优点：SRAM用双稳态触发器（六晶体管MOS来记忆消息的），SRAM速度非常快，通常能以20ns的速度工作</li>
<li>缺点：集成度低，每个SRAM单元都需要4-6个晶体管和其他部件构成，SRAM芯片体积更大</li>
</ul>
</li>
<li>
<p>DRAM(Dynamic Random Access Memory) 动态随机存取存储器（电容充电原理）：由于现实中晶体管存在漏电现象，导致电容上所存储的电荷数量不足以正确的判别数据，所以需要周期性的充电刷新。</p>
<ul>
<li>工作原理： 利用电容内所存储电荷的多寡来代表一个二进制位。DRAM通常以1个晶体管和1个电容	为单位排成二维矩阵，其中基本操作机制分为read和write，读的时候让BitLine先充电到操作电压的一半，然后把晶体管打开让BL和电容产生电荷共享现象，如内部存储值为1，则BL的电压会被电荷共享抬高到高于操作电压的一半，得到BL的电压后，经过放大器来判别内部值是0还是1。</li>
<li>优点：只需1个晶体管，1个电容就可以形成一个存储单元. 地址线复用，行列分两次送</li>
<li>缺点： DRAM上的电荷只能维持1-2ms，因此即使电源不断电，信息也会自动消失，为此需要每隔一个固定的时间进行刷新，通常取2ms，称为刷新周期，有3种刷新方式：集中刷新，分散刷新， 异步刷新。</li>
</ul>
</li>
</ul>
</li>
<li>
<p>ROM(Read Only Memory)<br />
根据制造工艺的不同，ROM可以分为MROM，PROM，EPROM,Flash Memory,Solid State Drives这几种。</p>
<ul>
<li>MROM(掩模式只读存储器)：可靠性高，价格便宜，灵活性差</li>
<li>PROM(一次可编程只读存储器) Programmable ROM 可以实现一次编程，一旦写入无法更改。</li>
<li>EPROM（可擦除可编程只读存储器）Erasable Programmable ROM 可分为紫外线擦除（UVEPROM）和电擦除（EEPROM）electric， 不能当作主存的原因是编程次数有限，且写入太慢。</li>
<li>Flash Memory 闪存： 牛逼 <a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E9%97%AA%E5%AD%98">闪存介绍</a></li>
<li>SSD (Solid State Drives) 固态硬盘：基于闪存的固态硬盘是用固态电子存储芯片阵列制成的硬盘，有控制单元和存储单元。</li>
</ul>
</li>
</ul>
<hr />
<h3 id="主存储器和cpu的连接"><a class="markdownIt-Anchor" href="#主存储器和cpu的连接"></a> 主存储器和CPU的连接</h3>
<ul>
<li>
<p>RAM芯片总结</p>
<ul>
<li>地址线Ai ：引脚数和存储芯片的单元数有关</li>
<li>数据线Di ：引脚数和存储芯片的字长有关</li>
<li>片选信号 CS ：只有cs有效，芯片才被选中，所连地址线才有效，才可以进行读写。</li>
<li>读/写信号控制线 WE（低电平） : 为0，控制写入电路写入；为1控制读出电路读出。</li>
<li>电源线，地址线</li>
</ul>
</li>
<li>
<p>位、字扩展法</p>
<ul>
<li>位扩展法： CPU的数据线数和存储芯片的数据位数不同，此时必须对存储芯片进行位扩展，用多个存储器件对字长进行扩充，增加存储字长，使其数据位数与CPU的数据线数相等。</li>
<li>字扩展法： 增加存储器中字的存储数量。</li>
</ul>
</li>
<li>
<p>存储芯片的地址分配和片选</p>
<ul>
<li>线选法 ：造成地址空间浪费，不连续， 优点不需要地址译码器，简单。</li>
<li>译码片选法 ： 用除片内寻址外的高位地址线通过地址译码器芯片产生片选信号，解决地址空间不连续问题。</li>
</ul>
</li>
</ul>
<h3 id="三种刷新方式"><a class="markdownIt-Anchor" href="#三种刷新方式"></a> 三种刷新方式</h3>
<p>假设刷新1行的时间为0.5μs（刷新时间是等于存取周期的。因为刷新的过程与一次存取相同，只是没有在总线上输入输出。顺便说一下存取周期＞真正用于存取的时间，因为存取周期内、存取操作结束后仍然需要一些时间来更改状态。——对于SRAM也是这样，对于DRAM更是如此）。<br />
<a target="_blank" rel="noopener" href="https://blog.csdn.net/piscesq329a/article/details/9244723">三种刷新方式详解</a></p>
<ol>
<li>
<p>集中刷新：指在一个刷新周期内，利用一段固定的时间，依次对存储器的所有行进行逐一再生，在此期间停止对存储器的读写操作，称为“死时间”，又称访存“死区”。<br />
快到2ms的时候，停止一切对内存的读取操作，使用0.5μs×64对64行依次刷新。这将占用3.2μs。在这3.2μs中，内存只用来刷新，阻塞一切存取操作。<br />
补充一点给楼主：为什么刷新与存取不能并行？：因为内存就一套地址译码和片选装置，刷新与存取有相似的过程，它要选中一行——这期间片选线、地址线、地址译码器全被占用着。同理，刷新操作之间也不能并行——意味着一次只能刷一行。</p>
</li>
<li>
<p>分散刷新： 把对每行的刷新分散到各个工作周期中，也即在每个存取操作过后绑定一个刷新操作，存取周期就成了0.5us+0.5us=1us&lt;&lt;2ms</p>
</li>
<li>
<p>异步刷新：分散刷新的刷新周期64μs ，其实根本不需要这么频繁，有些浪费，异步刷新就是恰好卡在2ms这个时间点上。对于每行以2ms为刷新周期足够了，刷新循环到它需要64刷新次操作， 2ms ÷ 64 作为【每次刷新的周期】，（注意每次刷新周期与特定行的刷新周期的不同：每次刷新间隔指对于内存来说它隔多长时间就进行一次刷新操作，轮着刷新时，刷新的行是上一次刷新的行的下一行——是不同的两行，但对于全局内存来说确实是两次刷新操作间隔。特定哪一行的刷新周期：下一次对它进行刷新的间隔，期间要经过64次内存刷新周期才又轮得到它。）过64次刚好保证每行的刷新周期为2ms。刷新操作周期为2ms ÷ 64 。但是这个时间并不是绑定在存取周期内，所以仍然是拒绝存取的死时间。但是它已经很小了。所以这种刷新策略非常可行。</p>
</li>
</ol>
<h3 id="主存储器与cpu的连接"><a class="markdownIt-Anchor" href="#主存储器与cpu的连接"></a> 主存储器与CPU的连接</h3>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="deniffer.github.io/posts/b0e81ec/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Deniffer">
      <meta itemprop="description" content="some Note from Deniffer">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Deniffer's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/posts/b0e81ec/" class="post-title-link" itemprop="url">整数运算与浮点数</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-07-02 20:35:54" itemprop="dateCreated datePublished" datetime="2020-07-02T20:35:54+08:00">2020-07-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-08-11 10:24:47" itemprop="dateModified" datetime="2020-08-11T10:24:47+08:00">2020-08-11</time>
              </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>2.7k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>2 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="整数运算之加法addition"><a class="markdownIt-Anchor" href="#整数运算之加法addition"></a> 整数运算之加法(Addition)</h3>
<p>对于bit level的整数运算和我们常见的十进制运算是不一样的，这带来了难以理解的地方，所以今天打算来讲讲在bit level的整数运算（二进制）</p>
<blockquote>
<p>考虑一个非负整数 0&lt;= x,y &lt;= 2<sup>w,其中x，y都能表示为w位的无符号数字，一般地我们认为x+y处在的范围在0&lt;=x+y&lt;=2</sup>(w+1)-2(其中减2是因为x，y的最大值均为2^w-1) 也即需要w+1位来表示x+y的结果，但是由于如果保持这样的“字长膨胀”的话(字长膨胀指的是x+y的结果再加上另外一个值 就可能需要2^w+2来表示)，就会带来麻烦。</p>
</blockquote>
<p>所以更常见的来说，编程语言支持固定精度的运算(这也是导致一些奇奇怪怪的运算结果发生的原因，比如两正数相加得到负数) 也就是说我们只需要保持w位不变，就能表示w+1位的结果(这其中的原因是因为编译器在其中做了处理)</p>
<ul>
<li>无符号加法(unsigned addition)<br />
对于任意0 &lt;= x,y &lt;= 2^w的x，y 有：</li>
</ul>
<p>x+_{w}^{u} y=\left\ {\begin{array}{ll}<br />
x+y, &amp; x+y&lt;2^{w} \x+y-2^{w}, &amp; 2^{w} \leqslant x+y&lt;2^{w+1}<br />
\end{array}\right.</p>
<p>也即对于无符号数而言存在正溢出的情况，对于正溢出，采取舍去最高位的方法。</p>
<ul>
<li>二补码加法<br />
类似的，二补码加法也存在溢出的情况，但由于二补码是符号数，这就意味着二补码不仅存在正溢出，而且还存在负溢出的情况。</li>
</ul>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi><mo>+</mo><mi mathvariant="normal">_</mi><msup><mi>w</mi><mi>t</mi></msup><mi>y</mi><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.15999999999999992em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>x</mi><mo>+</mo><mi>y</mi><mo>−</mo><msup><mn>2</mn><mi>w</mi></msup><mo separator="true">,</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msup><mn>2</mn><mrow><mi>w</mi><mo>−</mo><mn>1</mn></mrow></msup><mo>⩽</mo><mi>x</mi><mo>+</mo><mi>y</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>x</mi><mo>+</mo><mi>y</mi><mo separator="true">,</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>−</mo><msup><mn>2</mn><mrow><mi>w</mi><mo>−</mo><mn>1</mn></mrow></msup><mo>⩽</mo><mi>x</mi><mo>+</mo><mi>y</mi><mo>&lt;</mo><msup><mn>2</mn><mrow><mi>w</mi><mo>−</mo><mn>1</mn></mrow></msup></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>x</mi><mo>+</mo><mi>y</mi><mo>+</mo><msup><mn>2</mn><mi>w</mi></msup><mo separator="true">,</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>x</mi><mo>+</mo><mi>y</mi><mo>&lt;</mo><mo>−</mo><msup><mn>2</mn><mrow><mi>w</mi><mo>−</mo><mn>1</mn></mrow></msup></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex"> x+\_{w}^{t} y=\left\{\begin{array}{ll}
x+y-2^{w}, &amp; 2^{w-1} \leqslant x+y \\
x+y, &amp; -2^{w-1} \leqslant x+y&lt;2^{w-1} \\
x+y+2^{w}, &amp; x+y&lt;-2^{w-1}
\end{array}\right. </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.153556em;vertical-align:-0.31em;"></span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02691em;">w</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.843556em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">t</span></span></span></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.60004em;vertical-align:-1.55002em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.49999em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎩</span></span></span><span style="top:-3.15001em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎨</span></span></span><span style="top:-4.30002em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎧</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02691em;">w</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02691em;">w</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02691em;">w</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel amsrm">⩽</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">−</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02691em;">w</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel amsrm">⩽</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02691em;">w</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">−</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02691em;">w</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
<h3 id="整数的反-非"><a class="markdownIt-Anchor" href="#整数的反-非"></a> 整数的反、非</h3>
<p>从高等代数/线性代数中线性空间的概念中我们知道如果对于加法是封闭的情况下，那么每一个数都存在其相反数(一定存在一个零元)。也即存在-a,其满足-a+a = 0，在这个条件假设下，我们称-a为整数的加法逆元。</p>
<h3 id="整数乘法"><a class="markdownIt-Anchor" href="#整数乘法"></a> 整数乘法</h3>
<ul>
<li>
<p>无符号数乘法<br />
C语言中的无符号数被定义为产生w位的值，也就是用2w位的整数乘积的低w位来表示的值，我们将这个值表示为x*y<br />
原理：<br />
$ x *_{w}^{\mathrm{u}} y=(x \cdot y) \bmod 2^{w} $</p>
</li>
<li>
<p>符号数乘法<br />
C语言中的符号数乘法是用通过对2w位的乘积截断成w位来实现的，我们将这个数值表示成x*y,将一个补码截断为w位相当于先计算该值模2^w,再把无符号数转换成补码得到。<br />
$ x *_{w}^{t} y=U 2 T_{w}\left((x \cdot y) \bmod 2^{w}\right) $</p>
</li>
</ul>
<blockquote>
<p>由于整数的乘法比移位和加法的代价要大得多，许多C语言编译器试图以移位和加法减法的组合来消除很多整数乘以常数的情况。例如x*14 = 2<sup>3+2</sup>2+2^1 编译器会将乘法重写成(x&lt;&lt;3)+(x&lt;&lt;2)+(x&lt;&lt;1)的形式。 另LEA指令能够执行形如(a&lt;&lt;k)+b的计算。</p>
</blockquote>
<h3 id="浮点数-float"><a class="markdownIt-Anchor" href="#浮点数-float"></a> 浮点数 float</h3>
<blockquote>
<p>反复读了三遍csapp和看了两遍15-213才学会的<br />
小数点的位置是取值范围和精度的权衡-浮点的意义</p>
</blockquote>
<ol>
<li>float 的表示<br />
<img src="http://ts.githublearn.top/images/2020/07/03/float.png" alt="float" /><br />
<img src="http://ts.githublearn.top/images/2020/07/03/float_32.png" alt="单精度float" /><br />
<img src="http://ts.githublearn.top/images/2020/07/03/long.png" alt="双精度double" /></li>
</ol>
<p>对于浮点数的标准化，IEEE采用<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>V</mi><mo>=</mo><mo stretchy="false">(</mo><mo>−</mo><mn>1</mn><msup><mo stretchy="false">)</mo><mi>s</mi></msup><mo>×</mo><mi>M</mi><mo>×</mo><msup><mn>2</mn><mi>E</mi></msup></mrow><annotation encoding="application/x-tex">V=(-1)^{s} \times M \times 2^{E}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.22222em;">V</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">−</span><span class="mord">1</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05764em;">E</span></span></span></span></span></span></span></span></span></span></span></span> 来表示浮点数</p>
<ul>
<li>符号(sign) s是符号位 决定这个浮点数的正负，1为负，0为正</li>
<li>尾数(significand) M是一个二进制小数，范围时1~2-e</li>
<li>阶码(exponent) E的作用是对浮点数加权，权重的是2的E次幂 通过E的值来求解exp的编码</li>
</ul>
<p>将浮点数的位表示划分为三个字段，分别对这些值进行编码。</p>
<ul>
<li>一个单独的符号位s 直接编码</li>
<li>k位的阶码字段<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>exp</mi><mo>⁡</mo><mo>=</mo><msub><mi>e</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>⋯</mo><msub><mi>e</mi><mn>1</mn></msub><msub><mi>e</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">\exp =e_{k-1} \cdots e_{1} e_{0}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mop">exp</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.638891em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">0</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 编码阶码E</li>
<li>n位的小数字段编码<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mtext> frac </mtext><mo>=</mo><msub><mi>f</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>⋯</mo><msub><mi>f</mi><mn>1</mn></msub><msub><mi>f</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">\text { frac }=f_{n-1} \cdots f_{1} f_{0}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord text"><span class="mord"> frac </span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.902771em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">0</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 尾数M，编码出来的值依赖阶码字段是否等于0</li>
</ul>
<ol start="2">
<li>规格化<br />
给定位表示，根据exp的值，被编码的值可以分为三种不同的情况（最后一种情况有两个变种）</li>
</ol>
<ul>
<li>规格化的情况 ，这是最常见的情况，当exp的位不全为0，也不全为1 ，在这种情况下，阶码字段被解释为以偏置（bias）形式表示的有符号整数，也即阶码的值 E = exp - Bias ，（其中exp 是无符号数，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>exp</mi><mo>⁡</mo><mo>=</mo><msub><mi>e</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>⋯</mo><msub><mi>e</mi><mn>1</mn></msub><msub><mi>e</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">\exp =e_{k-1} \cdots e_{1} e_{0}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mop">exp</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.638891em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">0</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>）<br />
而Bias 总是等于 2^(k-1) -1的偏置值，因此对于指数的取值范围，单精度-126~127 双精度 -1022~1023.</li>
</ul>
<blockquote>
<p>tips: 之所以采取bias 是因为我们设计的时候想让exp的值是一个有符号数，并且0处于中间。<br />
<br><br />
小数字段frac 被解释为描述小数值f，其中0&lt;=f&lt;1,尾数定义为 M = 1+ f 。这种方式被称为隐含的以1开头的表示。可以把M看成<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mtext> 1. </mtext><msub><mi>f</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msub><msub><mi>f</mi><mrow><mi>n</mi><mo>−</mo><mn>2</mn></mrow></msub><mo>⋯</mo><msub><mi>f</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">\text { 1. } f_{n-1} f_{n-2} \cdots f_{0}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.902771em;vertical-align:-0.208331em;"></span><span class="mord text"><span class="mord"> 1. </span></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">0</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> ,这种表述方法是一种轻松获得一个额外精度位的技巧。</p>
</blockquote>
<ul>
<li>
<p>非规格化的值 ，当exp全为0，所表示的数就是非规格化形式，在这种情况下，阶码值E=1-Bias，尾数M=f，非规格化数有两个用途</p>
<ul>
<li>提供了表示数值0的方法，因为在规格化中，我们总是使M&gt;=1,无法表示0，实际上 +0.0的位表示为全0，s=exp=frac=0. -0.0的位表示除了s=1以外其他也均为0，值+0.0和-0.0在某些方面被认为是不同的，其他方面认为是相同的。</li>
<li>表示那些非常接近于0的数。</li>
</ul>
</li>
<li>
<p>特殊值 阶码全为1 的情况，</p>
<ul>
<li>当frac全为0时，得到的值表示无穷，当s=0 表示正无穷，s=1 表示负无穷。</li>
<li>当frac不全为0时，结果值称为“NaN”（not a number），一些运算结果不是实数（如虚数)，就会返回NaN值。</li>
</ul>
</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="deniffer.github.io/posts/7c2d4854/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Deniffer">
      <meta itemprop="description" content="some Note from Deniffer">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Deniffer's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/posts/7c2d4854/" class="post-title-link" itemprop="url">bit-level 数据表示</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-06-29 20:48:20" itemprop="dateCreated datePublished" datetime="2020-06-29T20:48:20+08:00">2020-06-29</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-08-11 10:24:47" itemprop="dateModified" datetime="2020-08-11T10:24:47+08:00">2020-08-11</time>
              </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>1.3k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="布尔代数与逻辑运算boolean-algebra-and-logic-operation"><a class="markdownIt-Anchor" href="#布尔代数与逻辑运算boolean-algebra-and-logic-operation"></a> 布尔代数与逻辑运算(Boolean Algebra and Logic Operation)</h3>
<blockquote>
<p>tips: 布尔代数的操作是在bit level的 ，而逻辑运算是在更高的层次的条件判断。</p>
</blockquote>
<ul>
<li>~ 取反操作符</li>
<li>&amp;  对应于逻辑运算的AND，当且仅当bit level均为1时才等于1，其余情况均为零</li>
<li>|  对应于逻辑运算的OR， 两方起码有一方是1，那么结果为1，否则为0</li>
<li>^  对应于逻辑运算的XOR，异或，同0异1，双方相同为0，不同为1.</li>
</ul>
<h3 id="移位运算shift-operations"><a class="markdownIt-Anchor" href="#移位运算shift-operations"></a> 移位运算（Shift Operations）</h3>
<blockquote>
<p>tips: 移位运算也可看为是模二法</p>
</blockquote>
<ul>
<li>&lt;&lt; 左移运算符 eg： x&lt;&lt; y  指的是位向量x整体向左移动y位，然后右端补零。</li>
<li>
<blockquote>
<blockquote>
<p>右移运算符 相对应的 右移运算符就是指位向量x整体向右移动y位，然后左端补齐，但右移运算符又分为逻辑右移和算术右移。</p>
</blockquote>
</blockquote>
<ul>
<li>逻辑右移： 在左端只填充0</li>
<li>算术右移： 在左端填充最高有效位的值</li>
</ul>
</li>
</ul>
<p>y的取值范围0&lt; y&lt;= wordsize （字长）</p>
<h3 id="符号数和无符号数unsigned-and-signed"><a class="markdownIt-Anchor" href="#符号数和无符号数unsigned-and-signed"></a> 符号数和无符号数(Unsigned and signed)</h3>
<h5 id="unsigned"><a class="markdownIt-Anchor" href="#unsigned"></a> Unsigned：</h5>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>B</mi><mn>2</mn><mi>U</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo>=</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>w</mi><mo>−</mo><mn>1</mn></mrow></munderover><msub><mi>x</mi><mi>i</mi></msub><mo>⋅</mo><msup><mn>2</mn><mi>i</mi></msup></mrow><annotation encoding="application/x-tex">B 2 U(X)=\sum_{i=0}^{w-1} x_{i} \cdot 2^{i} 
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mord">2</span><span class="mord mathdefault" style="margin-right:0.10903em;">U</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.0787820000000004em;vertical-align:-1.277669em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8011130000000004em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.300005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02691em;">w</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.277669em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8746639999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8746639999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<h5 id="twos-complement"><a class="markdownIt-Anchor" href="#twos-complement"></a> Two’s Complement:</h5>
<p>二补码就是取最高位作为标志位，具体解释可看下面公式.</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>B</mi><mn>2</mn><mi>T</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo>=</mo><mo>−</mo><msub><mi>x</mi><mrow><mi>w</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>⋅</mo><msup><mn>2</mn><mrow><mi>w</mi><mo>−</mo><mn>1</mn></mrow></msup><mo>+</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>w</mi><mo>−</mo><mn>2</mn></mrow></munderover><msub><mi>x</mi><mi>i</mi></msub><mo>⋅</mo><msup><mn>2</mn><mi>i</mi></msup></mrow><annotation encoding="application/x-tex">B 2 T(X)=-x_{w-1} \cdot 2^{w-1}+\sum_{i=0}^{w-2} x_{i} \cdot 2^{i} 
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mord">2</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.791661em;vertical-align:-0.208331em;"></span><span class="mord">−</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02691em;">w</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.947438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.864108em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02691em;">w</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:3.0787820000000004em;vertical-align:-1.277669em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8011130000000004em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.300005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02691em;">w</span><span class="mbin mtight">−</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.277669em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8746639999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8746639999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>二补码的最小值$TMin  =-2^{w-1} $ 最大值$ TMax  =2^{w-1}+1 $<br />
其中w是位长。</p>
<h3 id="无符号数和符号数的转换casting"><a class="markdownIt-Anchor" href="#无符号数和符号数的转换casting"></a> 无符号数和符号数的转换(casting)</h3>
<p>实质上就是编译器的位进行了不同的解释，位的数值并没有发生变化。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> tx,ty;</span><br><span class="line"><span class="keyword">unsigned</span> ux,uy;</span><br><span class="line">tx = (<span class="keyword">int</span>) ux; <span class="comment">//显式地将tx转变成unsigned类型</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> x = <span class="number">-10</span>;<span class="comment">// 从bit level上看就是 int占4B 也即32bits，默认是two&#x27;s complement 那x可以写成 (28*1)0110 的比特串</span></span><br><span class="line"><span class="keyword">unsigned</span> y = <span class="number">10</span>; <span class="comment">//y 可以写成(28*0)1010</span></span><br><span class="line"><span class="keyword">int</span> z = <span class="number">10</span>;<span class="comment">//z 可以写成(28*0)1010 </span></span><br><span class="line"> ux = (<span class="keyword">unsigned</span>) x; <span class="comment">//此时的ux是一个极大的值！ 根据上述无符号的公式计算。</span></span><br><span class="line">``` </span><br><span class="line"></span><br><span class="line">### 位扩展与截断(Sign Extension <span class="keyword">and</span> Truncating)</span><br><span class="line">位扩展：无符号数执行的是<span class="number">0</span>扩展，符号数执行的是符号扩展，也即对标志位进行k次的复制，填充在比特串的左侧。</span><br><span class="line">```C++</span><br><span class="line"><span class="keyword">unsigned</span> x = <span class="number">10</span> <span class="comment">//假设x刚开始是4bits 也即1010 后来扩展到32bits 也即在左端(28*0)1010 值的大小不发生改变。</span></span><br><span class="line"><span class="keyword">int</span> y = <span class="number">-10</span> <span class="comment">//假设y刚开始是5bits的 也即10110 后来扩展到32bits，也即在左端扩充标志位也即最高位的值(在此例为1) 所以说 变成了 (27*1)10110</span></span><br></pre></td></tr></table></figure>
<p>截断：</p>
<ul>
<li>
<p>无符号数截断： 截断k位 等价于mod 2^k</p>
</li>
<li>
<p>符号数截断 ：</p>
</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/4/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Deniffer</p>
  <div class="site-description" itemprop="description">some Note from Deniffer</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">46</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">9</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Deniffer</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="站点总字数">102k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">1:33</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  
  <script>
    (function(){
      var canonicalURL, curProtocol;
      //Get the <link> tag
      var x=document.getElementsByTagName("link");
		//Find the last canonical URL
		if(x.length > 0){
			for (i=0;i<x.length;i++){
				if(x[i].rel.toLowerCase() == 'canonical' && x[i].href){
					canonicalURL=x[i].href;
				}
			}
		}
    //Get protocol
	    if (!canonicalURL){
	    	curProtocol = window.location.protocol.split(':')[0];
	    }
	    else{
	    	curProtocol = canonicalURL.split(':')[0];
	    }
      //Get current URL if the canonical URL does not exist
	    if (!canonicalURL) canonicalURL = window.location.href;
	    //Assign script content. Replace current URL with the canonical URL
      !function(){var e=/([http|https]:\/\/[a-zA-Z0-9\_\.]+\.baidu\.com)/gi,r=canonicalURL,t=document.referrer;if(!e.test(r)){var n=(String(curProtocol).toLowerCase() === 'https')?"https://sp0.baidu.com/9_Q4simg2RQJ8t7jm9iCKT-xh_/s.gif":"//api.share.baidu.com/s.gif";t?(n+="?r="+encodeURIComponent(document.referrer),r&&(n+="&l="+r)):r&&(n+="?l="+r);var i=new Image;i.src=n}}(window);})();
  </script>















  

  
      
<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/katex@0/dist/katex.min.css"><!-- hexo-inject:begin --><!-- hexo-inject:end -->


  

</body>
</html>
